<html>
<head>
<BASE HREF="http://twoshortplanks.com/xmas/src/wtpage.html">

  <title>/usr/local/bin/wtpage</title>
</head>
<body bgcolor="#ffffff" text="#000000">
<pre>
<font color="#444444">#!/usr/local/bin/perl -w

</font><strong>use</strong> strict;
<strong>use</strong> Template;
<strong>use</strong> CGI;

<strong>use</strong> lib <font color="a52a2a"><strong>qw</strong></font><font color="4444FF"><strong>(</strong></font><font color="b000d0">/virtual/</font>twoshortplanks.com<font color="b000d0">/www/</font>lib<font color="4444FF"><strong>)</strong></font>;

<font color="#444444"># get the filename of our file
</font><strong>my</strong> <font color="#2040a0">$file</font> = <font color="#2040a0">$ARGV</font><font color="4444FF"><strong>[</strong></font>0<font color="4444FF"><strong>]</strong></font>;

<font color="#444444"># open the file 
</font><font color="a52a2a"><strong>open</strong></font> <font color="4444FF"><strong>(</strong></font>FILE, <font color="#2040a0">$file</font><font color="4444FF"><strong>)</strong></font> <strong>or</strong> <strong>die</strong> <font color="#008000">&quot;File <font color="#2040a0">$file</font> not there!&quot;</font>;

<font color="#444444"># eat the line with the command '#!/usr/local/bin/wtpage' on it
</font>&lt;FILE&gt;;

<font color="#444444"># print out the standard header
</font><font color="a52a2a"><strong>print</strong></font> <font color="#008000">&quot;Content-Type: text/html<font color="#77dd77">\n</font><font color="#77dd77">\n</font>&quot;</font>;

<font color="#444444"># create a template processor 
</font><strong>my</strong> <font color="#2040a0">$template</font> = Template-&gt;<strong>new</strong><font color="4444FF"><strong>(</strong></font><font color="4444FF"><strong>{</strong></font>
    ABSOLUTE =&gt; 1,
    RELATIVE =&gt; 1,
    PLUGIN_BASE =&gt; <font color="#008000">'Twoshortplanks::Template::Plugin'</font>
<font color="4444FF"><strong>}</strong></font><font color="4444FF"><strong>)</strong></font>;

<font color="#444444"># we`re dealing with this file
</font><font color="#2040a0">$template</font>-&gt;process<font color="4444FF"><strong>(</strong></font>\*FILE,<font color="4444FF"><strong>{</strong></font>cgi =&gt; <strong>new</strong> CGI<font color="4444FF"><strong>}</strong></font><font color="4444FF"><strong>)</strong></font>|| <strong>die</strong> <font color="#2040a0">$template</font>-&gt;error<font color="4444FF"><strong>(</strong></font><font color="4444FF"><strong>)</strong></font>;



</pre>
<hr>
syntax highlighted by <a href="http://www.cosy.sbg.ac.at/~ppalfrad/code2html">Code2HTML</a>, v. 0.8.12
</body>

<SCRIPT language="Javascript">
<!--

// FILE ARCHIVED ON 20010715235814 AND RETRIEVED FROM THE
// INTERNET ARCHIVE ON 20051214141301.
// JAVASCRIPT APPENDED BY WAYBACK MACHINE, COPYRIGHT INTERNET ARCHIVE.
// ALL OTHER CONTENT MAY ALSO BE PROTECTED BY COPYRIGHT (17 U.S.C.
// SECTION 108(a)(3)).

   var sWayBackCGI = "http://web.archive.org/web/20010715235814/";

   function xLateUrl(aCollection, sProp) {
      var i = 0;
      for(i = 0; i < aCollection.length; i++)
         if (aCollection[i][sProp].indexOf("mailto:") == -1 &&
             aCollection[i][sProp].indexOf("javascript:") == -1)
            aCollection[i][sProp] = sWayBackCGI + aCollection[i][sProp];
   }

   if (document.links)  xLateUrl(document.links, "href");
   if (document.images) xLateUrl(document.images, "src");
   if (document.embeds) xLateUrl(document.embeds, "src");

   if (document.body && document.body.background)
      document.body.background = sWayBackCGI + document.body.background;

//-->

</SCRIPT>
</html>
